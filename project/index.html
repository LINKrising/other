<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>blog</title>
    <!-- 使用chrome和最新版ie渲染 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="keywords" content="blog" />
    <meta name="description" content="blog" />
    <meta name="author" content="link" />
    <link rel="shortcut icon" type="image/ico" href="img/icon_@2x.ico" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <script src="js/vue.js"></script>
    <script type="text/javascript" src="js/move.js"></script>
    <link rel="stylesheet" type="text/css" href="css/index.css">

</head>

<body>
    <div id="head-wrapper">
        <div class="head">
            <ul class="navbar">
                <li v-for="nav in navs">
                    <a href="login.html">{{nav.navbars}}</a>
                    <span>-</span>
                </li>
            </ul>
        </div>
    </div>
    <!-- CAROUSEL -->
    <div id="banner">
        <div class="carousel" style="left:0px;">
            <div class="banner-photo"><img src="img/banner.png" alt=""></div>
            <div class="banner-photo"><img src="img/banner.png" alt=""></div>
            <div class="banner-photo"><img src="img/banner.png" alt=""></div>
        </div>
        <ol>
            <li class="on">●</li>
            <li class="">●</li>
            <li class="">●</li>
        </ol>
        <span class="prev" style="position:absolute;top:50%;left: 20px;font-size: 26px;z-index: 99;width:50px;height: 40px;display:block;">
            <</span>
                <span class="next" style="position:absolute;top:50%;right: 20px;font-size: 26px;z-index: 99;display:block;">></span>
                <h2 class="hello">{{msg}}</h2>
                <span class="username">{{name}}</span>
                <p class="job">{{job}}</p>
                <button v-on:click="gohome">GO</button>
    </div>
    <!-- CAROUSEL -->
    <div id="intrwrapper">
        <div id="intr-section">
            <div class="intr-left">
                <h2 style="font-size: 2.3em; color: #15263e;">{{myname}}</h2>
                <h4>{{work}}</h4>
                <p>{{intrinfo}}</p>
            </div>
            <div class="intr-photo">
                <img src="img/intr@3x.png" alt="intr" width="100%" height="100%">
            </div>
            <div class="intr-right">
                <div class="study">
                    <P>JAVASCRIPT</P>
                    <progress value="80" max="100"></progress>
                </div>
                <div class="study">
                    <P>NODEJS</P>
                    <progress value="50" max="100"></progress>
                </div>
                <div class="study">
                    <P>VUEJS</P>
                    <progress value="50" max="100"></progress>
                </div>
                <div class="study">
                    <P>PHP</P>
                    <progress value="50" max="100"></progress>
                </div>
            </div>
        </div>
    </div>
    <div class="infcontainer">
        <div class="inf-items">
            <div class="phonenum">
                <div class="back"></div>
                <h3>PHONE NUMBER</h3>
                <p>13550190561</p>
            </div>
            <div class="phonenum">
                <div class="back"></div>
                <h3>PHONE NUMBER</h3>
                <p>13550190561</p>
            </div>
            <div class="phonenum">
                <div class="back"></div>
                <h3>PHONE NUMBER</h3>
                <p>13550190561</p>
            </div>
        </div>
    </div>
    <div id="blog-wrapper">
        <div class="blog">
            <a href="article.html" style="color:black;"><h2>BLOG<span style="font-size: 9px;color:darkslateblue;">更多</span></h2></a>
            <P style="font-size: 14px;">javascript javascript javascript javascript javascript </P>
            <div class="group-wrapper">
                <div class="group" v-for="item in items">
                    <a :href="'art.php?id='+item.id">
                    <img :src="item.imgsrc" alt="">
                    </a>
                    <h6>{{item.title}}></h6>
                    <p style="font-size: 12px;display:inline-block;width: 60%;">{{item.content}}</p>
                </div>
            </div>
        </div>
    </div>
    <div id="footer-wrapper">
        <div class="footer">
            <p style="color:white;font-size: 16px;text-align: center;line-height: 200px;">vue--------------------------</p>
        </div>
    </div>
    <script type="text/javascript">
        //请求菜单数据
        window.onload = function () {
            var meun = [];
            var content = [];
            //菜单数据
            (function () {
                var xmlhttp;
                if (window.XMLHttpRequest) {
                    xmlhttp = new XMLHttpRequest();
                }
                else {

                    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                };

                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        var meunData = xmlhttp.responseText;
                        var meunD = JSON.parse(meunData);
                        //console.log(meunD)
                        //解析JSON,遍历加入菜单数组
                        for (key in meunD) {
                            //console.log(meunD[key]);
                            meun.push(meunD[key]);
                        }
                    }
                }
                var timeb =Date();
                console.log(timeb);
                xmlhttp.open("GET", `http://127.0.0.1/project/jsondata/meun.json?tim=${timeb}`, true);
                xmlhttp.send();
                console.log(meun);
            })();
                        //菜单数据
//文章数据
            (function () {
                var xmlhttp;
                if (window.XMLHttpRequest) {
                    xmlhttp = new XMLHttpRequest();
                }
                else {

                    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                };

                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        var meunData = xmlhttp.responseText;
                        var meunD = JSON.parse(meunData);
                        for (key in meunD) {
                            content.push(meunD[key]);
                        }
                    }
                }
                xmlhttp.open("GET", "http://127.0.0.1/project/selectdata.php", true);
                xmlhttp.send();
                console.log(content);
            })();
//文章数据
            //请求菜单数据
            //vue数据渲染
            let navbar = new Vue({
                el: ".navbar",
                data: {
                    navs: meun
                    /*            [
                                    //后台传回json
                                    {navbars:"首页"},
                                    {navbars:"个人"},
                                    {navbars:"简介"},
                                    {navbars:"blog"},
                                    {navbars:"blog"},
                                    {navbars:"blog"}  
                                    ]*/
                }
            });
           //菜单数据
            let banner = new Vue({
                el: "#banner",
                data: {
                    msg: "HELLO,I AM",
                    name: "LINK",
                    job: "web~web~web~web~web~web"
                },
                methods: {
                    gohome: function (event) {
                        alert("hello boy");
                    }
                }
            })
            let intrsection = new Vue({
                el: "#intrwrapper",
                data: {
                    fontS: "36",
                    myname: "LINK",
                    work: "web designer",
                    intrinfo: "Lorem ipsum dolor sit amet, consectetur adipielit. Sunt sed ad possimus magm maiores.Ipa Lorem ipsum dolor sit amet, consectetur adiic Sunt sed ad posimus magnam maores. Ipsam as velt blanditiis debitis consequuntur mollita umenda nam obcaecati illo!"
                },
                methods: {}
            })
            //文章列表数据渲染
            let blogWrapper = new Vue({
                el: '#blog-wrapper',
                data: {
                    items: content
                }
            })
            //文章列表数据渲染
            //vue数据渲染
            //轮播图
            var num = 0;
            var index = 0;
            var ybanner = document.querySelector("#banner");
            var obanner = document.querySelector("#banner .carousel");
            var oLi = document.querySelectorAll("#banner ol li");
            var prevBtn = document.querySelector(".prev");
            var nextBtn = document.querySelector(".next");
            console.log(nextBtn.innerText)
            console.log(oLi.length);
            for (var i = 0; i < oLi.length; i++) {
                oLi[i].index = i;
                oLi[i].onclick = function () {
                    oLi[num].className = "";
                    num = this.index;
                    // console.log(num);
                    oLi[num].className = "on";
                    move(obanner, { left: -2100 * num }, 30);

                }

            }
            //小点切换
            function showBtn() {
                for (var i = 0; i < oLi.length; i++) {
                    oLi[i].className = "";
                }
                oLi[num].className = "on";

            }
            // 下一页
            var nextc = nextBtn.onclick = function () {
                num += 1;
                if (num > 2) {
                    num = 0;
                }
                showBtn();
                move(obanner, { left: -2100 * num }, 30);

            }
            // 上一夜
            prevBtn.onclick = function () {
                num -= 1;
                if (num < 0) {
                    num = 3;
                }
                showBtn();
                move(obanner, { left: -2100 * num }, 30);
            }
        };






    </script>
</body>

</html>